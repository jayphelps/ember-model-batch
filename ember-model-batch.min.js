!function(a){var b=[];a.AdapterBatchMixin=a.Mixin.create({batch:function(){throw new Error("Your model needs to implement the batch() method. See https://github.com/jayphelps/ember-model-batch/blob/master/README.md")},_flushQueue:function(){if(b.length){var e,c=this.ajax,d=this.constructor.__super__.ajax;1===b.length?(e=b.shift(),d.apply(this,e.args).then(function(){e.resolve.apply(this,arguments)},function(){e.reject.apply(this,arguments)})):(this.ajax=d,this.batch(a.copy(b,!0)),b.length=0,this.ajax=c)}},ajax:function(){var c=this,d=arguments;return new a.RSVP.Promise(function(e,f){b.push({args:d,resolve:e,reject:f}),a.run.later(function(){a.run.once(c,c._flushQueue)})})}})}(Ember);